<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Metadata -->
        <title>Cronus Bus Locator</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="manifest" href="../manifest.json">
        <!-- External Resources -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <!-- Stylesheets -->
        <link rel="stylesheet" href="css/root.css">
        <link rel="stylesheet" href="css/frameworks.css">
        <link rel="stylesheet" href="css/settings.css">
        <link rel="stylesheet" href="css/offline.css">
        <link rel="stylesheet" href="css/windowpager.css">
        <link rel="stylesheet" href="css/homepage.css">
        <!-- Scripts -->
        <script src="js/index.js"></script>
        <script src="js/pagination.js"></script>
        <script src="js/workers.js"></script>
        <script src="js/settings.js"></script>
        <script src="js/windowpager.js"></script>
        <script src="js/homepage.js"></script>
        <script src="js/onboarding.js"></script>
    </head>
    <body>
        <main>
            <nav>
                <button class="nav-item selected" data-page-id="home">
                    <span class="nav-symbol material-symbols-rounded">home</span>
                    <span class="nav-label">Home</span>
                </button>
                <button class="nav-item" data-page-id="map" hidden>
                    <span class="nav-symbol material-symbols-rounded">map_search</span>
                    <span class="nav-label">Buses</span>
                </button>
                <button class="nav-item" data-page-id="routes" hidden>
                    <span class="nav-symbol material-symbols-rounded">directions</span>
                    <span class="nav-label">Routes</span>
                </button>
                <button class="nav-item" data-page-id="settings">
                    <span class="nav-symbol material-symbols-rounded">settings</span>
                    <span class="nav-label">Settings</span>
                </button>
            </nav>
            <offline style="display: none;">
                <span>Source: LAN</span>
                <span>No Signal</span>
            </offline>
            <div class="main">
                <pagebounds>
                    <page id="onboarding" nopadding>
                        <windowpager data-page="0">
                            <windowpagercontentarea>
                                <windowpage style="background-color: #1f242a" class="windowpage-welcome">
                                    <windowpagethumbnail>
                                        <img src="img/onboarding/welcome.png" alt="Welcome Banner">
                                    </windowpagethumbnail>
                                    <windowpagebody>
                                        <h1>Welcome to Cronus</h1>
                                        <p>Gone are the days of trying to scan the QR code on the TVs then not knowing where to leave.<br><br>Cronus does all that.</p>
                                        <div class="button-row">
                                            <button class="primary" purpose="next">Get Started</button>
                                        </div>
                                    </windowpagebody>
                                </windowpage>
                                <windowpage>
                                    <windowpagebody>
                                        <h1>Set your bus number</h1>
                                        <span>You can find your bus number on your Genesis account.</span>
                                        <setting data-id="busnumber" class="bigsetting">
                                            <label>
                                                <input type="number">
                                            </label>
                                        </setting>
                                        <div class="button-row">
                                            <button class="secondary" purpose="prev">Back</button>
                                            <button class="primary" purpose="next">Next</button>
                                        </div>
                                    </windowpagebody>
                                </windowpage>
                                <windowpage>
                                    <windowpagebody>
                                        <h1>Enable Notifications</h1>
                                        <span>Get notified on where exactly your bus is.</span>
                                        <button class="primary button-with-icon" id="onboarding-notifications-button"><span class="material-symbols-rounded">notification_add</span>Request Permission</button>
                                        <div class="button-row">
                                            <button class="secondary" purpose="prev">Back</button>
                                            <button class="primary" purpose="next">Next</button>
                                        </div>
                                    </windowpagebody>
                                </windowpage>
                                <windowpage>
                                    <windowpagebody>
                                        <h1>All done!</h1>
                                        <div class="button-row">
                                            <button class="secondary" purpose="prev">Back</button>
                                            <button class="primary" purpose="exit">Awesome!</button>
                                        </div>
                                    </windowpagebody>
                                </windowpage>
                            </windowpagercontentarea>
                        </windowpager>
                    </page>
                    <page id="home" class="active">
                        <group class="error width-fill" hidden>
                            <span class="material-symbols-rounded">warning</span>
                            <h1>Could not connect to server</h1>
                            <span>The server encountered a problem. Please try again later.</span>
                            <a href="https://docs.google.com/spreadsheets/d/1C2ggPchZMgKWcIXoDgBIF_QwNnw3QKLkP1H0lgzHCJw/htmlview">View Google Sheet</a>
                        </group>
                        <homemap>
                            <div class="buses">
                                <div class="bus-row buses-north">
                                    <legend>North</legend>
                                    <row>
                                        <bus position="northD" offset="0">--</bus>
                                        <bus position="northD" offset="1">--</bus>
                                        <bus position="northD" offset="2">--</bus>
                                        <bus position="northD" offset="3">--</bus>
                                        <bus position="northD" offset="4">--</bus>
                                        <bus position="northD" offset="5">--</bus>
                                        <bus hidden position="northD" offset="6">--</bus>
                                        <bus hidden position="northD" offset="7">--</bus>
                                    </row>
                                    <row>
                                        <bus position="northC" offset="0">--</bus>
                                        <bus position="northC" offset="1">--</bus>
                                        <bus position="northC" offset="2">--</bus>
                                        <bus position="northC" offset="3">--</bus>
                                        <bus position="northC" offset="4">--</bus>
                                        <bus position="northC" offset="5">--</bus>
                                        <bus hidden position="northC" offset="6">--</bus>
                                        <bus hidden position="northC" offset="7">--</bus>
                                    </row>
                                    <row>
                                        <bus position="northB" offset="0">--</bus>
                                        <bus position="northB" offset="1">--</bus>
                                        <bus position="northB" offset="2">--</bus>
                                        <bus position="northB" offset="3">--</bus>
                                        <bus position="northB" offset="4">--</bus>
                                        <bus position="northB" offset="5">--</bus>
                                        <bus hidden position="northB" offset="6">--</bus>
                                        <bus hidden position="northB" offset="7">--</bus>
                                    </row>
                                    <row>
                                        <bus position="northA" offset="0">--</bus>
                                        <bus position="northA" offset="1">--</bus>
                                        <bus position="northA" offset="2">--</bus>
                                        <bus position="northA" offset="3">--</bus>
                                        <bus position="northA" offset="4">--</bus>
                                        <bus position="northA" offset="5">--</bus>
                                        <bus hidden position="northA" offset="6">--</bus>
                                        <bus hidden position="northA" offset="7">--</bus>
                                    </row>
                                </div>
                                <div class="bus-row buses-south">
                                    <legend>South</legend>
                                    <row>
                                        <bus position="southA" offset="0">--</bus>
                                        <bus position="southA" offset="1">--</bus>
                                        <bus position="southA" offset="2">--</bus>
                                        <bus position="southA" offset="3">--</bus>
                                        <bus position="southA" offset="4">--</bus>
                                        <bus position="southA" offset="5">--</bus>
                                    </row>
                                    <row>
                                        <bus position="southB" offset="0">--</bus>
                                        <bus position="southB" offset="1">--</bus>
                                        <bus position="southB" offset="2">--</bus>
                                        <bus position="southB" offset="3">--</bus>
                                        <bus position="southB" offset="4">--</bus>
                                        <bus position="southB" offset="5">--</bus>
                                    </row>
                                </div>
                                <div class="bus-row buses-west">
                                    <legend>West</legend>
                                    <clm>
                                        <row>
                                            <bus position="westA" offset="0">--</bus>
                                            <bus position="westA" offset="1">--</bus>
                                        </row>
                                        <row>
                                            <bus position="westB" offset="0">--</bus>
                                            <bus position="westB" offset="1">--</bus>
                                        </row>
                                    </clm>
                                </div>
                            </div>
                        </homemap>
                        <group>
                            <h2 class="bus-location-header">Your bus is </h2>
                            
                        </group>
                    </page>
                    <page id="map">
                        <h1>Bus Map</h1>
                        <span>Coming soon ;&rpar;</span>
                    </page>
                    <page id="routes">
                        <h1>Routes</h1>
                        <span>Coming soon ;&rpar;</span>
                    </page>
                    <page id="settings">
                        <h1>Settings</h1>
                        <settings>
                            <legend>Configuration</legend>
                            <group>
                                <setting data-id="busnumber">
                                    <info>
                                        <name>Bus Number</name>
                                    </info>
                                    <label>
                                        <input type="number">
                                    </label>
                                </setting>
                            </group>
                            <legend>Notifications</legend>
                            <group>
                                <setting data-id="notifications">
                                    <info>
                                        <name>Send Notifications</name>
                                    </info>
                                    <toggle><label><input type="checkbox"></label></toggle>
                                </setting>
                                <setting data-id="advnotiftime">
                                    <info>
                                        <name>Advance Notification Time</name>
                                        <description>Minutes before dismissal to send the notification.</description>
                                    </info>
                                    <label><input type="number" value="1"></label>
                                </setting>
                                <setting data-id="numbersystem">
                                    <info>
                                        <name>Number System</name>
                                        <description>Used for buses not owned by the district</description>
                                    </info>
                                    <label><select>
                                        <option value="district" selected>District Numbers</option>
                                        <option value="contractor">Contractor Numbers</option>
                                    </select></label>
                                </setting>
                            </group>
                            <legend>Routing</legend>
                            <group>
                                <setting data-id="doornumbers">
                                    <info>
                                        <name>Use Door Numbers</name>
                                    </info>
                                    <toggle><label><input type="checkbox"></label></toggle>
                                </setting>
                            </group>
                            <legend>Developer Settings</legend>
                            <group>
                                <setting>
                                    <info>
                                        <name>Debugging</name>
                                    </info>
                                    <button data-page-id="debug" class="pageturner"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                                <setting>
                                    <info>
                                        <name>Restart Onboarding</name>
                                    </info>
                                    <button data-page-id="onboarding" class="pageturner"><span class="material-symbols-rounded">open_in_new</span></button>
                                </setting>
                            </group>
                            <legend>About</legend>
                            <group>
                                <setting>
                                    <info>
                                        <name>About the Developer</name>
                                    </info>
                                    <button data-page-id="about" class="pageturner"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                                <setting>
                                    <info>
                                        <name>Open Source Software</name>
                                    </info>
                                    <button data-page-id="oss" class="pageturner"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                            </group>
                            <group class="width-fill">
                                <footer>
                                    <span>Cronus</span>
                                    <span>Version 1.0.0 (4) (sunburst-pinkie)</span>
                                    <span>Made with <span class="material-symbols-rounded fill color-accent" id="heart">favorite</span> by Brandon Jones for Lenape High School</span>
                                </footer>
                            </group>
                        </settings>
                    </page>
                    <page id="about" data-links-from="settings">
                        <button class="back" data-page-id="settings"><span class="material-symbols-rounded">chevron_left</span></button>
                        <h1>About the Developer</h1>
                        <settings>
                            <group>
                                <stngp>
                                    <img class="settings-page-banner" src="img/pon3.gif" alt="vinyl scratch my fav" title="vinyl scratch my fav &lt;3">
                                    <p>I'm just a 14-year-old person doing what I really enjoy.</p>
                                    <p>I learned Luau in 2020, but started learning Javascript in late 2024 as I didn't want to deal with the limitations of the big Luau-powered platforms (just Roblox).</p>
                                    <p>I came up with the idea for Cronus around October 2025 after realizing how much pain people had to go through just to figure out where their bus is. I worked on it on-and-off during November, and launched it at the start of December.</p>
                                    <p>You can also visit my personal website at <a target="_blank" href="https://ws4k.net">ws4k.net</a> if you wanted to view some of my other projects.</p>
                                </stngp>
                                <stngp>
                                    <ul class="socials">
                                        <li>
                                            <a target="_blank" href="https://bsky.app/profile/ws4k.net">
                                                <img src="img/socials/bluesky.svg" alt="Bluesky Icon" style="margin-top: 2px;">
                                                <span>Bluesky</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://youtube.com/@hainesnoids">
                                                <img src="img/socials/youtube.svg" alt="YouTube Icon">
                                                <span>Youtube</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://twitch.tv/hainesnoids">
                                                <img src="img/socials/twitch.svg" alt="Twitch Icon" style="margin-top: 2px;width: 22px;">
                                                <span>Twitch</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://discord.gg/9cT6rmxvT9">
                                                <img src="img/socials/discord.svg" alt="Discord Icon">
                                                <span>Discord</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://last.fm/user/hainesnoids">
                                                <img src="img/socials/lastfm.svg" alt="Last.fm Icon">
                                                <span>Last.fm</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://steamcommunity.com/id/hainesnoids">
                                                <img src="img/socials/steam.svg" alt="Steam Icon">
                                                <span>Steam</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://github.com/hainesnoids">
                                                <img src="img/socials/github.svg" alt="GitHub Icon">
                                                <span>GitHub</span>
                                            </a>
                                        </li>
                                    </ul>
                                </stngp>
                            </group>
                        </settings>
                    </page>
                    <page id="oss" data-links-from="settings">
                        <button class="back" data-page-id="settings"><span class="material-symbols-rounded">chevron_left</span></button>
                        <h1>Open Source Software</h1>
                        <settings>
                            <group>
                                <setting>
                                    <info>
                                        <name>libDialog</name>
                                        <description>hainesnoids</description>
                                    </info>
                                    <a href="https://github.com/hainesnoids/libdialog" target="_blank"><button class="pageturner"><span class="material-symbols-rounded">open_in_new</span></button></a>
                                </setting>
                                <setting>
                                    <info>
                                        <name>windowpager</name>
                                        <description>hainesnoids</description>
                                    </info>
                                    <a href="https://github.com/hainesnoids/libdialog" target="_blank"><button class="pageturner"><span class="material-symbols-rounded">open_in_new</span></button></a>
                                </setting>
                            </group>
                        </settings>
                    </page>
                    <page id="debug" data-links-from="settings">
                        <button class="back" data-page-id="settings"><span class="material-symbols-rounded">chevron_left</span></button>
                        <settings>
                            <legend>Notifications</legend>
                            <group>
                                <setting>
                                    <info>
                                        <name>Request Permission</name>
                                    </info>
                                    <button class="pageturner" id="a"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                                <setting>
                                    <info>
                                        <name>Notify (Desktop)</name>
                                    </info>
                                    <button class="pageturner" id="b"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                                <setting>
                                    <info>
                                        <name>Notify (Service Worker)</name>
                                    </info>
                                    <button class="pageturner" id="c"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                            </group>
                            <legend>Service Worker</legend>
                            <group>
                                <setting>
                                    <info>
                                        <name>Initialize Service Worker</name>
                                    </info>
                                    <button class="pageturner" id="d"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                                <setting>
                                    <info>
                                        <name>Subscribe to push notifications</name>
                                    </info>
                                    <button class="pageturner" id="g"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                            </group>
                            <legend>Connection</legend>
                            <group>
                                <setting>
                                    <info>
                                        <name>Simulate offline</name>
                                    </info>
                                    <button class="pageturner" onclick="offLine()"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                                <setting>
                                    <info>
                                        <name>Simulate online</name>
                                    </info>
                                    <button class="pageturner" onclick="onLine()"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                            </group>
                            <legend>Config</legend>
                            <group>
                                <setting>
                                    <info>
                                        <name>Print Config</name>
                                    </info>
                                    <button class="pageturner" id="e"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                                <setting>
                                    <info>
                                        <name>Clear Config</name>
                                    </info>
                                    <button class="pageturner" id="f"><span class="material-symbols-rounded">chevron_right</span></button>
                                </setting>
                            </group>
                            <legend>Console</legend>
                            <group>
                                <div id="console"></div>
                            </group>
                        </settings>
                    </page>
                </pagebounds>
            </div>
        </main>
    </body>
</html>